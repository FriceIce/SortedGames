const __vite__fileDeps=["assets/GameCard-Cv29BVgv.js","assets/index-CckqYSqj.js","assets/index-Buq4t4YS.css","assets/GameFilter-DJLIxp0G.js","assets/LoadingScreen-BN8QvDK3.js","assets/LoadingScreen-Byzhuq5j.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{r as p,_ as m,R as r,u as S,a as v,j as s}from"./index-CckqYSqj.js";import{f as c}from"./fetchGames-DcH8Qq5B.js";import{o as n}from"./fetchOptions-BEgALDgg.js";import{u as O}from"./useScrollToTop-BfjRU949.js";import{u as G}from"./useFetchGamesOnScroll-vl0XE8Id.js";const N=p.lazy(()=>m(()=>import("./GameCard-Cv29BVgv.js"),__vite__mapDeps([0,1,2]))),R=p.lazy(()=>m(()=>import("./GameFilter-DJLIxp0G.js"),__vite__mapDeps([3,1,2]))),$=p.lazy(()=>m(()=>import("./LoadingScreen-BN8QvDK3.js"),__vite__mapDeps([4,1,2,5]))),D=({scrollPositionY:j})=>{const[o,l]=r.useState([]),[d,y]=r.useState(!0),[a,b]=r.useState("all"),E=S(e=>e.sidemenu.sidemenu),L=G(j),{genreTitle:t}=v(),u=(t==null?void 0:t.toLocaleLowerCase())==="popular"?"sort-by":"category",f=`https://free-to-play-games-database.p.rapidapi.com/api/games?${u}=${t}`,g=`https://free-to-play-games-database.p.rapidapi.com/api/games?${u}=${t}&sort-by=${a}`;O([t]),r.useEffect(()=>(a==="all"&&c(f,n,l),a&&a==="alphabetical"&&c(g,n,l),()=>{}),[a]),r.useEffect(()=>{c(f,n,l)},[t]);const i=e=>s.jsx("li",{className:"bg-[#1e232d] rounded-xl",children:s.jsx(N,{card:e})},e.id);return s.jsxs("div",{className:`space-y-10 transition-all ${E&&"lg:ml-[210px]"}`,children:[s.jsx(R,{filterOption:a,setFilterOption:b}),s.jsxs("div",{className:"text-xl space-y-2 mx-2",children:[o&&s.jsxs("h1",{className:"text-base text-center sm:text-lg sm:text-start uppercase",children:[t==null?void 0:t.replace(/[-&]/," "),": ",a]}),d&&s.jsx("div",{className:"pt-10",children:s.jsx($,{loader:"smallerLoaderAnimation",position:"static"})}),s.jsx("ul",{className:"card-grid w-full",children:o.map((e,x)=>{var h;const _=(h=e.platform)==null?void 0:h.toLowerCase().includes(a);if(x===o.length-1&&d&&y(!1),x>L)return null;if(a==="all"||a==="alphabetical"||a==="pc"&&_||a==="browser"&&_)return i(e)})})]})]})};export{D as default};

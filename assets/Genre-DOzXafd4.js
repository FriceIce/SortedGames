import{j as e,R as c,u as N,a as $}from"./index-BAu8pSpB.js";import{f as n}from"./fetchGames-DcH8Qq5B.js";import{o as m}from"./fetchOptions-BEgALDgg.js";import{u as C}from"./useScrollToTop-B1ZHSZ33.js";import{u as L}from"./useFetchGamesOnScroll-DhTre5Mh.js";import{G as S}from"./GameCard-7etcpShv.js";import G from"./LoadingScreen-DOD-HF8E.js";const k=({filterOption:l,setFilterOption:r})=>e.jsxs("div",{className:"text-white flex gap-2 justify-center mt-4",children:[e.jsx("button",{className:` text-white px-2 rounded-md ${l==="all"?"bg-[#7c61ec]":"bg-gray-700"} `,onClick:()=>r("all"),children:"ALL"}),e.jsx("button",{title:"Alphabeticl order",className:` text-white px-2 rounded-md ${l==="alphabetical"?"bg-[#7c61ec]":"bg-gray-700"} `,onClick:()=>r("alphabetical"),children:"A-Z"}),e.jsx("button",{className:`text-white px-2 rounded-md ${l==="pc"?"bg-[#7c61ec]":"bg-gray-700"}`,onClick:()=>r("pc"),children:"PC"}),e.jsx("button",{className:`text-white px-2 rounded-md ${l==="browser"?"bg-[#7c61ec]":"bg-gray-700"}`,onClick:()=>r("browser"),children:"Browser"})]}),q=({scrollPositionY:l})=>{const[r,o]=c.useState([]),[d,b]=c.useState(!0),[a,g]=c.useState("all"),j=N(t=>t.sidemenu.sidemenu),y=L(l),{genreTitle:s}=$(),p=(s==null?void 0:s.toLocaleLowerCase())==="popular"?"sort-by":"category",u=`https://free-to-play-games-database.p.rapidapi.com/api/games?${p}=${s}`,w=`https://free-to-play-games-database.p.rapidapi.com/api/games?${p}=${s}&sort-by=${a}`;C([s]),c.useEffect(()=>(a==="all"&&n(u,m,o),a&&a==="alphabetical"&&n(w,m,o),()=>{}),[a]),c.useEffect(()=>{n(u,m,o)},[s]);const i=t=>e.jsx("li",{className:"bg-[#1e232d] rounded-xl",children:e.jsx(S,{card:t})},t.id);return e.jsxs("div",{className:`space-y-10 transition-all ${j&&"lg:ml-[210px]"}`,children:[e.jsx(k,{filterOption:a,setFilterOption:g}),e.jsxs("div",{className:"text-xl space-y-2 mx-2",children:[r&&e.jsxs("h1",{className:"text-base text-center sm:text-lg sm:text-start uppercase",children:[s==null?void 0:s.replace(/[-&]/," "),": ",a]}),d&&e.jsx("div",{className:"pt-10",children:e.jsx(G,{loader:"smallerLoaderAnimation",position:"static"})}),e.jsx("ul",{className:"card-grid w-full",children:r.map((t,x)=>{var f;const h=(f=t.platform)==null?void 0:f.toLowerCase().includes(a);if(x===r.length-1&&d&&b(!1),x>y)return null;if(a==="all"||a==="alphabetical"||a==="pc"&&h||a==="browser"&&h)return i(t)})})]})]})};export{q as default};
